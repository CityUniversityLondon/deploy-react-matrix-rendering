(()=>{var e,t={1911:(e,t,a)=>{"use strict";a(1629),a(3418),a(6099),a(7495),a(7764),a(3500);var r=a(6540),n=a(5338),l=(a(2811),a(5556)),s=a.n(l),i=(a(2675),a(2259),a(5700),a(2008),a(5276),a(4346),a(3792),a(2062),a(4782),a(6910),a(9572),a(3288),a(2010),a(2892),a(7945),a(4185),a(3851),a(1278),a(9432),a(8781),a(1415),a(2953),a(3464)),c=a(1083),o=a.n(c);a(8706),a(8598),a(1688),a(8940),a(8156),a(5440),a(744);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function d(e,t,a,r,n,l){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:e,eventCategory:t,eventAction:a,eventLabel:r,eventValue:n,nonInteractionHit:l})}function m(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function f(e){return(0,i.A)(e).then((function(e){if(200===e.status)return e.data;throw new Error("Bad response: ".concat(e.status))})).catch((function(e){i.A.isCancel(e)||d("jsError","JavaScript error",e.message||"Unknown error","axiosRequest (".concat(window.location,")"),0,!0)}))}function p(e,t){var a=new Date(e),n="";t&&(n=0===a.getTimezoneOffset()/-60?"(GMT)":"(BST)");var l=a.getHours().toString().padStart(2,"0"),s=a.getMinutes().toString().padStart(2,"0");return r.createElement("time",{dateTime:"".concat(l,":").concat(s)},l,":",s," ",n)}function y(e){return r.createElement("time",{dateTime:e.toISOString().split("T")[0]},["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getUTCDay()],", ",e.getUTCDate(),r.createElement("sup",null,function(e){var t=e%100;if(t>=11&&t<=13)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}(e.getUTCDate()))," ",["January","February","March","April","May","June","July","August","September","October","November","December"][e.getUTCMonth()]," ",e.getUTCFullYear())}function b(e){var t={},a=function(a){if("object"!==u(e[a])||Array.isArray(e[a])||null===e[a])Array.isArray(e[a])?e[a].forEach((function(e){"fixedFacets"===a&&e.meta?t["".concat(a,"-").concat(e.meta)]=e.value:e.name&&(t["".concat(a,"-").concat(e.name)]=e.value)})):null!==e[a]&&void 0!==e[a]&&(t[a]=String(e[a]));else{var r=b(e[a]);for(var n in r)"parameters"===a?t["".concat(a,"-").concat(n)]=r[n]:t[n]=r[n]}};for(var r in e)a(r);return t}function _(){!function(){var e=document.createElement("div");e.style.cssText="width: 100px; height: 100px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;document.body.removeChild(e),document.documentElement.style.setProperty("--scrollbar-width","".concat(t,"px"))}();var e=document.querySelector(".back-to-top");e&&e.setAttribute("hidden","true"),document.documentElement.classList.add("no-scroll")}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){v(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function v(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function M(e){switch(e){case"citysport":return"https://www.citysport.org.uk/web-services/fb/";case"city":default:return"https://www.citystgeorges.ac.uk/web-services/dxp-fb";case"bayes":return"https://www.bayes.citystgeorges.ac.uk/webservices"}}var j=3e4;function N(e){var t="bayes"===e.site?"fa fa-times icon":"fa-sharp fa-solid fa-xmark icon";return r.createElement("button",{className:"finder__clear",type:"button",onClick:function(){e.clear(e.resetSort)}},r.createElement("span",{className:t}),r.createElement("span",{className:"finder__clear__text"},"Clear query"))}N.propTypes={clear:s().func,resetSort:s().bool};const S=N;function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,l,s,i=[],c=!0,o=!1;try{if(l=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(r=l.call(a)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){o=!0,n=e}finally{try{if(!c&&null!=a.return&&(s=a.return(),Object(s)!==s))return}finally{if(o)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?O(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}const q=function(){var e=w((0,r.useState)(!1),2),t=e[0],a=e[1];return(0,r.useEffect)((function(){a(!0)}),[]),t};function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function T(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||C(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function A(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=k(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==k(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,l,s,i=[],c=!0,o=!1;try{if(l=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(r=l.call(a)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){o=!0,n=e}finally{try{if(!c&&null!=a.return&&(s=a.return(),Object(s)!==s))return}finally{if(o)throw n}}return i}}(e,t)||C(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){if(e){if("string"==typeof e)return R(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?R(e,t):void 0}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}var D="Escape",U="ArrowDown";function F(e){var t=e.config.site&&"bayes"===e.config.site?"fa fa-search fa-lg":"fal fa-sharp fa-search",a=q(),n=(0,r.useRef)(null),l=P((0,r.useState)(e.query.query||""),2),s=l[0],c=l[1],o=P((0,r.useState)([]),2),u=o[0],d=o[1],m=P((0,r.useState)(null),2),p=m[0],y=m[1],b=P((0,r.useState)("finder--"+e.query.collection),1)[0],_=P((0,r.useState)(!1),2),h=_[0],g=_[1],E=P((0,r.useState)(""),2),v=E[0],N=E[1];function w(){n.current&&n.current.focus()}(0,r.useEffect)((function(){c(e.query.query)}),[e.query.query,e.updating]),(0,r.useEffect)((function(){return function(){p&&p.cancel()}}),[p]);var O=function(){p&&p.cancel(),c(""),d([]),w();var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(Object(a),!0).forEach((function(t){A(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e.query);t.misspelling=null,t.query="",t.sortType=e.config.sort[0].type,t.startRank=1,t.interacted=!0,e.update.query(t),e.update.results(!e.update.updateState)},k=function(t){if(t){p&&p.cancel(),d([]);var a=e.query;a.misspelling=null,a.query=t||(s||""),a.sortType=s?"":e.config.sort[0].type,a.startRank=1,a.interacted=!0,e.update.query(a),e.update.results(!e.update.updateState)}},C=s&&r.createElement(S,{clear:function(){var t=n.current?n.current.value:"";n.current&&(n.current.value=""),c(""),t===e.query.query&&O()},site:e.config.site||"city"}),R=function(e){g(!1),d([]),w(),k(e)},F=u&&u.length>0&&r.createElement("ul",{role:"listbox","aria-label":"Search suggestions","aria-activedescendant":v,className:h?"finder__query__suggestions show":"finder__query__suggestions hide"},T(new Set(u)).slice(0,5).map((function(e,t){return r.createElement("li",{key:e,role:"option",id:b+"--"+t},r.createElement("button",{type:"button",onBlur:function(){N(""),g(!1)},onFocus:function(){return g(!0)},onMouseDown:function(){return R(e)},onClick:function(){return R(e)},onKeyDown:function(e){var t,a,r;switch(e.key){case D:null===(t=e.currentTarget.closest(".finder__query"))||void 0===t||null===(t=t.querySelector("input"))||void 0===t||t.focus(),d([]),N("");break;case"ArrowUp":e.preventDefault(),null===(a=e.currentTarget.parentElement)||void 0===a||null===(a=a.previousElementSibling)||void 0===a||null===(a=a.querySelector("button"))||void 0===a||a.focus();break;case U:e.preventDefault(),null===(r=e.currentTarget.parentElement)||void 0===r||null===(r=r.nextElementSibling)||void 0===r||null===(r=r.querySelector("button"))||void 0===r||r.focus();break;case"Home":var n;e.preventDefault();var l,s=null===(n=e.currentTarget.closest("ul"))||void 0===n?void 0:n.firstChild;if(s instanceof Element)null===(l=s.querySelector("button"))||void 0===l||l.focus();break;case"End":var i;e.preventDefault();var c,o=null===(i=e.currentTarget.closest("ul"))||void 0===i?void 0:i.lastChild;if(o instanceof Element)null===(c=o.querySelector("button"))||void 0===c||c.focus()}}},function(e,t){return r.createElement("span",null,r.createElement("span",{className:"sr-only"},e),r.createElement("span",{"aria-hidden":"true"},r.createElement("span",{className:"finder__suggestion"},e.slice(e.indexOf(t.toLowerCase()),e.indexOf(t.toLowerCase())+t.length)),e.slice(e.indexOf(t.toLowerCase())+t.length)))}(e,s)))})));return a?r.createElement("fieldset",{className:"finder__query"},r.createElement("div",null,r.createElement("div",{className:"finder__query__input"},r.createElement("div",{className:"finder__query__icon--wrapper"},r.createElement("span",{className:"finder__icon ".concat(t," icon"),"aria-hidden":"true"})),r.createElement("label",{className:"sr-only",htmlFor:b},"Search ".concat(e.config.summariseAs&&e.config.summariseAs.plural)),r.createElement("input",{autoComplete:"off",id:b,name:"query",placeholder:e.config.placeholder,ref:n,type:"text",value:s,onKeyDown:function(e){if(e.key===D)O();else if(e.key===U&&u.length>0){var t,a;e.preventDefault();var r=null===(t=e.currentTarget.parentElement)||void 0===t?void 0:t.querySelector(".finder__query__suggestions button");null==r||r.focus(),N((null===(a=e.currentTarget.parentElement)||void 0===a||null===(a=a.querySelector(".finder__query__suggestions li"))||void 0===a?void 0:a.id)||"")}},onFocus:function(){return g(!0)},onBlur:function(){return g(!1)},onChange:function(t){var a=t.target.value;if(c(a),d([]),p&&p.cancel(),a){var r=function(e,t,a){var r=i.A.CancelToken.source();return[f({baseURL:M(a),cancelToken:r.token,url:"/funnelback-dxp-suggest",timeout:j,params:{collection:e,partial_query:t,show:100}}),r]}(e.query.collection,a,e.config.site?e.config.site:void 0),n=P(r,2),l=n[0],s=n[1];y(s),l.then((function(e){return d(e)})).catch((function(){return d([])}))}else d([])}}),F,C),r.createElement("button",{type:"submit",className:"finder__query__submit",onClick:function(){return k(n.current?n.current.value:"")}},r.createElement("span",{className:"".concat(t," finder__query__submit__icon"),"aria-hidden":"true"}),r.createElement("span",{className:"finder__query__submit__text"},"Find")))):r.createElement("fieldset",{className:"finder__query"},r.createElement("div",null,r.createElement("div",{className:"finder__query__input"},r.createElement("label",{className:"sr-only",htmlFor:b},"Search ".concat(e.config.summariseAs&&e.config.summariseAs.plural)),r.createElement("input",{type:"text",id:b,name:"query",className:"finder__query-input",placeholder:e.config.placeholder,defaultValue:s})),r.createElement("button",{type:"submit",className:"finder__query__submit"},r.createElement("span",{className:"fal fa-sharp fa-search finder__query__submit__icon","aria-hidden":"true"}),r.createElement("span",{className:"finder__query__submit__text"},"Find"))))}F.propTypes={config:s().object,query:s().object,update:s().object,updating:s().bool};const L=F;a(2712);function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(Object(a),!0).forEach((function(t){H(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function H(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=I(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==I(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function J(e){return function(e){if(Array.isArray(e))return $(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return $(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?$(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}function Y(e){var t=e.mobile?"mobile":"desktop",a=e.facet&&e.query.facets[e.facet.meta]||"",n=e.facet&&e.facet.values&&e.facet.values.reduce((function(e,t){return[].concat(J(e),[t])}),[]),l=e.responseFacet[0]&&e.responseFacet[0].allValues?e.responseFacet[0].allValues.reduce((function(e,t){return[].concat(J(e),[t.data])}),[]):[],s=n?n.map((function(e){return e.data})).filter((function(e){return l.indexOf(e.toLowerCase())<0})).length:0;return e.facet&&e.facet.values&&e.facet.values.length>s?r.createElement("div",{className:"finder__filter finder__select ".concat(a&&"finder__select--selected")},r.createElement("label",{htmlFor:"meta_".concat(e.facet.meta,"_sand--").concat(t)},e.facet.name),r.createElement("select",{name:"meta_".concat(e.facet.meta,"_sand"),id:"meta_".concat(e.facet.meta,"_sand--").concat(t),onChange:function(t){return a=t.target.value,r=B(B({},e.query),{},{facets:B({},e.query.facets)}),e.dependencies&&e.dependencies.forEach((function(e){delete r.facets[e.meta]})),a?r.facets[e.facet.meta]=a:delete r.facets[e.facet.meta],r.startRank=1,r.misspelling=null,r.interacted=!0,e.update.query(r),void e.update.results(!e.update.updateState);var a,r},value:a},r.createElement("option",{value:"",id:"meta".concat(e.facet.meta,"all--").concat(t)},e.facet.noSelection),e.facet.values.map((function(t,n){var l=e.responseFacet[0]&&e.responseFacet[0].allValues&&e.responseFacet[0].allValues.filter((function(e){return e.data.toLowerCase()===t.data.toLowerCase()}));return a.toLowerCase()===t.data.toLowerCase()||l&&l[0]?r.createElement("option",{key:n,value:t.data.toLowerCase()},t.label,a!==t.data&&l[0]&&l[0].count>0?" (".concat(l[0].count,")"):""):null})))):null}Y.propTypes={facet:s().object,query:s().object,responseFacet:s().arrayOf(s().object),update:s().object,dependencies:s().arrayOf(s().object),mobile:s().bool};const G=Y;function z(e){return function(e){if(Array.isArray(e))return Q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Q(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Q(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}function W(e){var t=new Date,a=t.getUTCFullYear(),n=t.getUTCMonth()>=9?t.getUTCMonth()+1:"0"+(t.getUTCMonth()+1),l=t.getUTCDate(),s="".concat(a).concat(n).concat(l>=10?l:"0"+l);console.log("currentDate.getUTCMonth()",t.getUTCMonth());var i=e.mobile?"mobile":"desktop",c=e.facet&&e.query.facets[e.facet.meta]||"",o=e.facet&&e.facet.values&&e.facet.values.reduce((function(e,t){return[].concat(z(e),[t])}),[]),u=e.responseFacet[0]&&e.responseFacet[0].allValues?e.responseFacet[0].allValues.reduce((function(e,t){return[].concat(z(e),[t.data])}),[]):[],d=o&&o.map((function(e){return e.data})).filter((function(e){return u.indexOf(e.toLowerCase())<0})).length;return e.facet&&e.facet.values&&void 0!==d&&e.facet.values.length>d?r.createElement("div",{className:"finder__filter finder__select ".concat(c&&"finder__select--selected")},r.createElement("label",{htmlFor:"meta_".concat(e.facet.meta,"_sand--").concat(i)},e.facet.name),r.createElement("select",{name:"meta_".concat(e.facet.meta,"_sand"),id:"meta_".concat(e.facet.meta,"_sand--").concat(i),onChange:function(t){return a=t.target.value,(r=e.query).parameters||(r.parameters={}),e.dependencies&&e.dependencies.forEach((function(e){delete r.facets[e.meta]})),a?r.facets[e.facet.meta]=a:delete r.facets[e.facet.meta],e.query.parameters&&e.query.parameters.events?r.parameters.lt_eventDate=s:r.parameters.ge_eventDate=s,r.startRank=1,r.misspelling=null,r.interacted=!0,e.update.query(r),void e.update.results(!e.update.updateState);var a,r},value:c},r.createElement("option",{value:"",id:"meta".concat(e.facet.meta,"all--").concat(i)},e.facet.noSelection),e.facet.values.map((function(t,a){var n=e.responseFacet[0]&&e.responseFacet[0].allValues&&e.responseFacet[0].allValues.filter((function(e){return e.data.toLowerCase()===t.data.toLowerCase()}));return c.toLowerCase()===t.data.toLowerCase()||n&&n[0]?r.createElement("option",{key:a,value:t.data.toLowerCase()},t.label,c!==t.data&&n[0]&&n[0].count>0?" (".concat(n[0].count,")"):""):null})))):null}W.propTypes={facet:s().object,query:s().object,responseFacet:s().arrayOf(s().object),update:s().object,dependencies:s().arrayOf(s().object),mobile:s().bool};const K=W;function X(e){var t=e.mobile?"mobile":"desktop",a=e.facet.meta in e.query.facets,n=e.responseFacet[0]&&e.responseFacet[0].allValues&&e.responseFacet[0].allValues.filter((function(t){return e.facet.checkedValue&&t.data.toLowerCase()===e.facet.checkedValue.toLowerCase()}));if(n&&n[0]&&n[0].count>0){var l=function(){var t=e.query;e.dependencies&&e.dependencies.forEach((function(e){delete t.facets[e.meta]})),a?delete t.facets[e.facet.meta]:e.facet.checkedValue&&(t.facets[e.facet.meta]=e.facet.checkedValue),t.startRank=1,t.misspelling=null,t.interacted=!0,e.update.query(t),e.update.results(!e.update.updateState)};return r.createElement("div",{className:"finder__filter finder__checkbox"},r.createElement("input",{type:"checkbox",id:"meta_".concat(e.facet.meta,"_sand--").concat(t),name:"meta_".concat(e.facet.meta,"_sand"),value:e.facet.checkedValue,onChange:function(){return l()},checked:a}),r.createElement("div",{className:"finder__checkbox__indicator finder__checkbox__indicator","aria-hidden":"true",onClick:function(){return l()}},a?r.createElement("span",{className:"fa fa-fw fas fa-check icon"}):null),r.createElement("label",{className:"finder__filters__label--always",htmlFor:"meta_".concat(e.facet.meta,"_sand--").concat(t)},e.facet.name,!a&&n&&" ("+n[0].count+")"))}return null}X.propTypes={facet:s().object,query:s().object,responseFacet:s().arrayOf(s().object),update:s().object,dependencies:s().arrayOf(s().object),mobile:s().bool};const Z=X;function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?te(Object(a),!0).forEach((function(t){re(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):te(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function re(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=ee(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=ee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ee(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ne(e){var t,a=Math.random().toString(16).slice(-4),n=e.pastEventsResponse&&e.pastEventsResponse.resultPacket.resultsSummary&&e.pastEventsResponse.resultPacket.resultsSummary.fullyMatching,l=e.pastEventsResponse&&e.pastEventsResponse.resultPacket.resultsSummary&&e.pastEventsResponse.resultPacket.resultsSummary.partiallyMatching,s=e.query.parameters&&e.facet.meta in e.query.parameters,i=n||(l||0),c=function(){var t,a=ae(ae({},e.query),{},{parameters:ae({},null!==(t=e.query.parameters)&&void 0!==t?t:{})});s?delete a.parameters[e.facet.meta]:void 0!==e.facet.checkedValue&&(a.parameters[e.facet.meta]=e.facet.checkedValue),a.startRank=1,a.misspelling=null,a.interacted=!0,e.update.query(a),e.update.results(!e.update.updateState)};return i>0?r.createElement("div",{className:"finder__filter finder__checkbox"},r.createElement("input",{type:"checkbox",id:"".concat(e.facet.funnelbackName,"--").concat(a),name:e.facet.meta,value:null!==(t=e.facet.checkedValue)&&void 0!==t?t:"",onChange:function(){return c()},checked:s}),r.createElement("div",{className:"finder__checkbox__indicator finder__checkbox__indicator","aria-hidden":"true",onClick:function(){return c()}},s?r.createElement("span",{className:"fa fa-fw fas fa-check icon"}):null),r.createElement("label",{className:"finder__filters__label--always",htmlFor:"".concat(e.facet.funnelbackName,"--").concat(a)},e.facet.name,!s&&i&&" ("+i+")")):null}ne.propTypes={facet:s().object,query:s().object,pastEventsResponse:s().object,update:s().object,dependencies:s().arrayOf(s().object)};const le=ne;function se(e){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(e)}function ie(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ce(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(a),!0).forEach((function(t){oe(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ie(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function oe(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=se(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=se(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==se(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ue(e){var t=Math.random().toString(16).slice(-4),a=e.pastEventsResponse&&e.pastEventsResponse.resultPacket.resultsSummary&&e.pastEventsResponse.resultPacket.resultsSummary.fullyMatching,n=e.pastEventsResponse&&e.pastEventsResponse.resultPacket.resultsSummary&&e.pastEventsResponse.resultPacket.resultsSummary.partiallyMatching,l=e.query.parameters&&"lt_eventDate"in e.query.parameters,s=a||(n||0),i=new Date,c=i.getUTCFullYear(),o=i.getUTCMonth()>=9?i.getUTCMonth()+1:"0"+(i.getUTCMonth()+1),u=i.getUTCDate(),d="".concat(c).concat(o).concat(u>=10?u:"0"+u),m=function(){var t=new Date,a=t.getUTCFullYear(),r=t.getUTCMonth()+1>=10?t.getUTCMonth()+1:"0"+(t.getUTCMonth()+1),n=t.getUTCDate(),l="".concat(a).concat(r).concat(n>=10?n:"0"+n),s=ce(ce({},e.query),{},{parameters:e.query.parameters?ce({},e.query.parameters):{}});s.parameters&&"lt_eventDate"in s.parameters?(delete s.parameters.lt_eventDate,delete s.parameters.events,s.parameters.ge_eventDate=l,s.sortType="adate"):s.parameters&&(delete s.parameters.ge_eventDate,s.parameters.lt_eventDate=l,s.parameters.events="past",s.sortType="date"),s.startRank=1,s.misspelling=null,s.interacted=!0,e.update.query(s),e.update.results(!e.update.updateState)};return s>0?e.matrixState?r.createElement("div",{className:"finder__filter finder__select"},r.createElement("label",{htmlFor:"event--time"},"Location"),r.createElement("select",{name:"event--time",id:"event--time"},r.createElement("option",{value:"ge_eventDate!".concat(d)},"Upcoming events"),r.createElement("option",{value:"lt_eventDate!".concat(d)},"Past events"))):r.createElement("div",{className:"finder__filter finder__checkbox"},r.createElement("input",{type:"checkbox",id:"".concat(e.facet.funnelbackName,"--").concat(t),name:e.facet.meta,value:e.facet.checkedValue,onChange:function(){return m()},checked:l}),r.createElement("div",{className:"finder__checkbox__indicator finder__checkbox__indicator","aria-hidden":"true",onClick:function(){return m()}},l?r.createElement("span",{className:"fa fa-fw fas fa-check icon"}):null),r.createElement("label",{className:"finder__filters__label--always",htmlFor:"".concat(e.facet.funnelbackName,"--").concat(t)},e.facet.name,!l&&s&&" ("+s+")")):null}ue.propTypes={facet:s().object,query:s().object,pastEventsResponse:s().object,update:s().object,dependencies:s().arrayOf(s().object),matrixState:s().bool};const de=ue;function me(e){return r.createElement("input",{type:"hidden",id:e.name,name:e.name,value:e.value})}me.propTypes={name:s().string,value:s().string};const fe=me;a(739),a(5506),a(6034);function pe(e){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe(e)}function ye(e,t){for(var a in e)a===t?delete e[a]:"object"===pe(e[a])&&null!==e[a]&&ye(e[a],t)}function be(e,t,a,r){var n=a&&r&&1+(a-1)*r,l=JSON.parse(JSON.stringify(e));t&&"tag"===t.type&&t.meta&&ye(l,t.meta);var s=b(l);return"?"+Object.entries(s).filter((function(e){var t=Object.values(e);if(""===t[1])return!1;switch(t[0]){case"interacted":case"num_rank":case"start_rank":return!1;default:return!0}})).map((function(e){var a=Object.values(e);if(/fixedParameters/.test(a[0]))return encodeURIComponent(a[0].substring(16))+"="+encodeURIComponent(a[1]);if(/fixedFacets/.test(a[0]))return encodeURIComponent("meta_".concat(a[0].substring(12),"_sand"))+"="+encodeURIComponent(a[1]);if(/parameters/.test(a[0]))return encodeURIComponent(a[0].substring(11))+"="+encodeURIComponent(a[1]);switch(a[0]){case"collection":case"profile":case"query":return encodeURIComponent(a[0])+"="+encodeURIComponent(a[1]);case"sortType":return encodeURIComponent("sort")+"="+encodeURIComponent(a[1]);case"startRank":return encodeURIComponent("start_rank")+"="+encodeURIComponent(t?a[1]:n||"");case"numRanks":return encodeURIComponent("num_rank")+"="+encodeURIComponent(a[1]);default:return encodeURIComponent("meta_".concat(a[0],"_sand"))+"="+encodeURIComponent(a[1])}})).join("&")}function _e(e){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_e(e)}function he(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ge(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?he(Object(a),!0).forEach((function(t){Ee(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):he(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ee(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=_e(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=_e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_e(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ve(e){return function(e){if(Array.isArray(e))return Me(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Me(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Me(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}function je(e){if(!q())return null;var t=e.facet&&e.facet.values&&e.facet.values.reduce((function(e,t){return[].concat(ve(e),[t])}),[]),a=e.responseFacet[0]&&e.responseFacet[0].allValues?e.responseFacet[0].allValues.reduce((function(e,t){return[].concat(ve(e),[t.data])}),[]):[],n=t&&t.map((function(e){return e.data})).filter((function(e){return a.indexOf(e.toLowerCase())<0})).length,l=e.query.facets[e.facet.meta]&&e.facet.values&&n&&e.facet.values.length>=n&&r.createElement(r.Fragment,null,r.createElement("span",{className:"fa-sharp fa-solid fa-xmark icon","aria-hidden":"true"}),r.createElement("span",{className:"finder__tag__text"},r.createElement("span",{className:"sr-only"},"Remove filter for "),e.facet.name,":"," ",e.facet.values.filter((function(t){return t.data.toLowerCase()===e.query.facets[e.facet.meta].toLowerCase()}))[0].label)),s=e.matrixState&&e.query.facets[e.facet.meta]?r.createElement("input",{type:"hidden",name:"meta_".concat(e.facet.meta,"_sand"),value:e.query.facets[e.facet.meta]}):null;return e.facet.values&&n&&e.facet.values.length>=n&&e.query.facets[e.facet.meta]?r.createElement("div",{className:"finder__filter finder__tag"},s,e.matrixState&&e.query.facets[e.facet.meta]?r.createElement("a",{href:be(e.query,e.facet)},l):r.createElement("button",{onClick:function(){return t=ge(ge({},e.query),{},{facets:ge({},e.query.facets)}),e.dependencies&&e.dependencies.forEach((function(e){delete t.facets[e.meta]})),delete t.facets[e.facet.meta],t.startRank=1,t.misspelling=null,t.interacted=!0,e.update.query(t),void e.update.results(!e.update.updateState);var t},type:"button"},l)):null}je.propTypes={facet:s().object,query:s().object,responseFacet:s().arrayOf(s().object),update:s().object,dependencies:s().arrayOf(s().object),matrixState:s().bool};const Ne=je;function Se(e){var t=e.site?"fa fa-times icon":"fa-sharp fa-solid fa-xmark icon";return e.matrixState?r.createElement("a",{href:"?",className:"finder__reset",type:"button"},r.createElement("span",{className:t}),r.createElement("span",{className:"finder__reset__text"},"Reset")):r.createElement("button",{className:"finder__reset",type:"button",onClick:function(){e.clear(e.resetSort)}},r.createElement("span",{className:t}),r.createElement("span",{className:"finder__reset__text"},"Reset"))}Se.propTypes={clear:s().func,resetSort:s().bool,matrixState:s().bool};const we=Se;function Oe(e){var t=Math.random().toString(16).slice(-4),a=e.config.sort.filter((function(t){return""!==t.type||(""!==e.query.query||Object.keys(e.query.facets).length>0||""===e.query.sortType)}));return a.length>1?r.createElement("div",{className:"finder__select--sort finder__select".concat(e.query.sortType!==e.config.sort[0].type?" finder__select--selected":"")},r.createElement("label",{className:"finder__select__overline",htmlFor:"sort--".concat(t)},"Sort by"),r.createElement("select",{name:"sort",id:"sort--".concat(t),onChange:function(t){return a=t.target.value,(r=e.query).sortType=a,r.startRank=1,r.misspelling=null,r.interacted=!0,e.update.query(r),void e.update.results(!e.update.updateState);var a,r},value:e.query.sortType},a.map((function(e,t){return r.createElement("option",{key:t,value:e.type},e.label)})))):null}Oe.propTypes={config:s().object,query:s().object,update:s().object};const qe=Oe;function ke(e){var t=e.response&&e.response.summary&&e.response.summary.fullyMatching,a=!e.updating&&Object.keys(e.query.facets).length>0?r.createElement("div",{className:"finder__filters__reset finder__filters__reset--desktop"},r.createElement(we,{clear:e.clear,resetSort:!1,matrixState:e.matrixState,site:e.config.site||"city"})):null,n=!e.updating&&Object.keys(e.query.facets).length>0||e.query.sortType!==e.config.sort[0].type?r.createElement(we,{clear:e.clear,resetSort:!0,matrixState:e.matrixState,site:e.config.site||"city"}):null,l=!e.matrixState&&e.config.sort.length>1&&e.config.displaySort&&t?r.createElement("div",{className:"wrapper--finder__select--sort--mobile"},r.createElement(qe,{key:e.mobile?"sort-mobile":"sort-desktop",config:e.config,query:e.query,update:e.update})):null,s=e.matrixState?r.createElement("div",{className:"finder__filter__submit"},r.createElement("button",{type:"submit",className:"finder__query__submit finder__submit"},r.createElement("span",{className:"fal fa-sharp fa-search finder__query__submit__icon","aria-hidden":"true"})," ",r.createElement("span",{className:"finder__query__submit__text"},"Find"))):null;return r.createElement("div",{className:"finder__filters"},r.createElement("h2",{className:"finder__filters__heading"},r.createElement("span",{className:"finder__filters__heading__text"},r.createElement("span",{className:"far fa-sharp fa-sliders-h icon","aria-hidden":"true"})," ","Filter ".concat(e.config.summariseAs&&e.config.summariseAs.plural)),n),r.createElement("fieldset",null,!e.hasMounted&&e.query.fixedParameters?e.query.fixedParameters.map((function(e){return r.createElement(fe,{key:e.name,name:e.name,value:e.value})})):null,r.createElement("div",{className:"wrapper--finder_filters--filters"},e.config.facetLabels&&e.config.facetLabels.map((function(t){if(!function(e,t){var a=Object.keys(t);return!e.dependency||a.indexOf(e.dependency)>=0&&""!==t[e.dependency]}(t,e.query.facets))return null;switch(t.type){case"eventCheckBox":return r.createElement(de,{key:t.meta,facet:t,query:e.query,update:e.update,pastEventsResponse:e.response.extraSearches&&e.response.extraSearches.past&&e.response.extraSearches.past.response,matrixState:e.matrixState});case"paramCheckBox":return r.createElement(le,{key:t.meta,facet:t,query:e.query,update:e.update,pastEventsResponse:e.response.extraSearches&&e.response.extraSearches.past&&e.response.extraSearches.past.response});case"eventSelect":return r.createElement(K,{key:t.meta,facet:t,query:e.query,responseFacet:e.response&&e.response.facets?e.response.facets.filter((function(e){return e.name===t.funnelbackName})):[],update:e.update,dependencies:e.config.facetLabels&&e.config.facetLabels.filter((function(e){return e.dependency===t.meta})),mobile:e.mobile});case"select":return r.createElement(G,{key:t.meta,facet:t,query:e.query,responseFacet:e.response&&e.response.facets?e.response.facets.filter((function(e){return e.name===t.funnelbackName})):[],update:e.update,dependencies:e.config.facetLabels&&e.config.facetLabels.filter((function(e){return e.dependency===t.meta})),mobile:e.mobile});case"checkbox":return r.createElement(Z,{key:t.meta,facet:t,query:e.query,responseFacet:e.response&&e.response.facets?e.response.facets.filter((function(e){return e.name===t.funnelbackName})):[],update:e.update,dependencies:e.config.facetLabels&&e.config.facetLabels.filter((function(e){return e.dependency===t.meta})),mobile:e.mobile});case"tag":return r.createElement(Ne,{key:t.meta,facet:t,query:e.query,responseFacet:e.response&&e.response.facets?e.response.facets.filter((function(e){return e.name===t.funnelbackName})):[],update:e.update,dependencies:e.config.facetLabels&&e.config.facetLabels.filter((function(e){return e.dependency===t.meta})),matrixState:e.matrixState});default:d("jsError","JavaScript error","finder__filters()","Unknown filter type in finder__filters.js",0,!0)}})),r.createElement("p",{className:"finder__filters__nofilters"},"No filters are valid for the current query."),a,l,s)))}ke.propTypes={config:s().object,query:s().object,response:s().object,update:s().object,clear:s().func,mobile:s().bool,hasMounted:s().bool,matrixState:s().bool,updating:s().bool};const Te=ke;var xe=a(2697);function Ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,l,s,i=[],c=!0,o=!1;try{if(l=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(r=l.call(a)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){o=!0,n=e}finally{try{if(!c&&null!=a.return&&(s=a.return(),Object(s)!==s))return}finally{if(o)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pe(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Pe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}function Ce(e){var t=Ae((0,r.useState)(!1),2),a=t[0],n=t[1],l=Ae((0,r.useState)(null),2),s=l[0],i=l[1],c=(0,r.useRef)(null);(0,r.useEffect)((function(){var e=c.current;if(e){var t=xe.K(e,{initialFocus:e.querySelector(".wrapper--finder__filters--mobile__apply"),onDeactivate:function(){return n(!1)},clickOutsideDeactivates:!0});i(t)}}),[]),(0,r.useEffect)((function(){s&&(a?(s.active||s.activate(),_()):(s.active&&s.deactivate(),function(){document.documentElement.classList.remove("no-scroll");var e=document.querySelector(".back-to-top");e&&e.removeAttribute("hidden")}()))}),[a,s]);var o=e.response&&e.response.summary&&e.response.summary.totalMatching,u=1===o&&e.summariseAs?e.summariseAs.singular:e.summariseAs&&e.summariseAs.plural?e.summariseAs.plural:null,d=o?"Show ".concat(o," ").concat(u):"Close",m=e.config.displaySort?e.config.sort[0].type!==e.query.sortType||Object.keys(e.query.facets).length>0?r.createElement("span",null,"Filters"," ",r.createElement("span",{className:"wrapper--finder__filters--mobile__toggle__count"},"(",e.config.sort[0].type!==e.query.sortType?Object.keys(e.query.facets).length+1:Object.keys(e.query.facets).length,")")):r.createElement("span",null,"Filter"):Object.keys(e.query.facets).length>0?r.createElement("span",null,"Filters"," ",r.createElement("span",{className:"wrapper--finder__filters--mobile__toggle__count"},"(",e.config.sort[0].type!==e.query.sortType?Object.keys(e.query.facets).length+1:Object.keys(e.query.facets).length,")")):r.createElement("span",null,"Filter"),f=a?null:r.createElement("button",{type:"button",className:"wrapper--finder__filters--mobile__toggle","aria-haspopup":!0,"aria-expanded":a,onClick:function(){return n(!0)},"data-filters-applied":0!==Object.keys(e.query.facets).length||e.config.displaySort&&e.config.sort[0].type!==e.query.sortType},r.createElement("span",null,r.createElement("span",{className:"far fa-sharp fa-sliders-h icon","aria-hidden":"true"})," ",m));return r.createElement("div",{className:"wrapper--finder__filters","data-open":a,ref:c},f,r.createElement("div",{className:"wrapper--finder__filters--mobile__filters"},r.createElement("div",{className:"wrapper--finder__filters--mobile__filters__content"},r.createElement(Te,{config:e.config,query:e.query,response:e.response,update:e.update,clear:e.clear,mobile:e.mobile,hasMounted:e.hasMounted,matrixState:e.matrixState,updating:e.updating}))),r.createElement("div",{className:"wrapper--finder__filters--mobile__apply"},r.createElement("button",{type:"button","aria-expanded":a,onClick:function(){return n(!1)},disabled:e.updating},0===Object.keys(e.query.facets).length?null:r.createElement("span",{className:"fa fa-chevron-left icon"}),r.createElement("span",{"aria-live":"polite"},e.updating?r.createElement(r.Fragment,null,r.createElement("span",{className:"fas fa-spinner fa-pulse icon","aria-hidden":"true"})," ",r.createElement("span",{className:"wrapper--finder__filters--mobile__apply__text"},"Updating ",e.summariseAs&&e.summariseAs.plural,"â€¦")):r.createElement("span",{className:"wrapper--finder__filters--mobile__apply__text"},0===Object.keys(e.query.facets).length?"Close":d)))))}Ce.propTypes={config:s().object,query:s().object,response:s().object,update:s().object,clear:s().func,updating:s().bool,summariseAs:s().object,mobile:s().bool,hasMounted:s().bool,matrixState:s().bool};const Re=Ce;function De(e){return r.createElement("li",{className:"card card--bestbet"},r.createElement("a",{href:e.details.displayUrl,className:"card__anchor card__details"},r.createElement("div",{className:"card__details__text"},r.createElement("h3",{className:"card__heading"},e.details.titleHtml),r.createElement("p",{className:"card__description"},e.details.descriptionHtml))))}De.propTypes={details:s().object};const Ue=De;a(4423),a(2762);function Fe(e){var t=function(e){return Math.floor(e/60)>0?Math.floor(e/60)+" hour "+e%60:e},a=e.details&&e.details.listMetadata&&e.details.listMetadata.thumbnail&&e.details.listMetadata.thumbnail[0]&&r.createElement("img",{src:e.details.listMetadata.thumbnail[0],alt:"",className:"card__thumbnail"}),n=e.details&&e.details.listMetadata&&e.details.listMetadata.level&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw fa-graduation-cap icon","aria-hidden":"true"})," ",r.createElement("span",{className:"sr-only"},"Level:")," ",r.createElement("span",null,m(e.details.listMetadata.level.join("|")).split("|").join(" or "))),l=e.details.listMetadata?Object.keys(e.details.listMetadata).filter((function(t){var a=t,r=e.details.listMetadata[a];return["accessible","catered","ensuite"].includes(t)&&r&&"Yes"===r[0]})).map((function(e){return e.replace(/ensuite/,"en suite")})).sort().join(", "):"",s=e.details&&e.details.listMetadata&&e.details.listMetadata.type&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw fa-sharp fa-building icon","aria-hidden":"true"})," ",r.createElement("span",{className:"sr-only"},"Type:")," ",r.createElement("span",null,e.details.listMetadata.type.length>2?m(e.details.listMetadata.type.join("|")).split("|").slice(0,-1).join(", ")+" or "+m(e.details.listMetadata.type.join("|")).split("|").slice(-1):m(e.details.listMetadata.type.join("|")).split("|").join(" or "),l&&" ("+l+")")),i=e.details.listMetadata&&e.details.listMetadata.price&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw fa-pound-sign icon","aria-hidden":"true"})," ",r.createElement("span",{className:"sr-only"},"Price:")," ",r.createElement("span",null,e.details.listMetadata.price[0]," (",e.details.listMetadata.deposit&&e.details.listMetadata.deposit[0]," ","deposit)")),c=e.details.listMetadata&&e.details.listMetadata.transport&&r.createElement(r.Fragment,null," ","(",t(parseInt(e.details.listMetadata.transport[0]))," ","minutes by public transport)"),o=e.details.listMetadata&&e.details.listMetadata.location&&e.details.listMetadata.location[0]?r.createElement(r.Fragment,null,r.createElement("span",{className:"sr-only"},"Distance to")," ",r.createElement("div",{className:"card__details__location card__details__location-".concat(e.details.listMetadata.location[0].trim().replace(" ","-").toLowerCase())},r.createElement("span",{className:"fas fa-fw fa-location-dot icon","aria-hidden":"true"})," ",r.createElement("span",null,e.details.listMetadata.location[0]),r.createElement("span",{className:"sr-only"}," campus"))):r.createElement("span",{className:"sr-only"},"Distance to Northampton Square campus:"),u=e.details.listMetadata&&e.details.listMetadata.walk&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw fa-walking icon","aria-hidden":"true"})," ",o,r.createElement("span",null,t(parseInt(e.details.listMetadata.walk[0]))," ","minutes walk to campus",c));return r.createElement("li",{className:"card card--accommodation"},r.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details"},a,r.createElement("div",{className:"card__details__text"},r.createElement("h3",{className:"card__heading"},e.details.title),u,s,i,n)))}Fe.propTypes={details:s().object};const Le=Fe;function Ie(e){var t=e.details.listMetadata&&e.details.listMetadata.status?r.createElement("p",{className:"card__type"},e.details.listMetadata.status[0]):e.details.listMetadata&&e.details.listMetadata.type&&r.createElement("p",{className:"card__type"},e.details.listMetadata.type[0]),a=e.details.listMetadata&&e.details.listMetadata.school&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw fa-sharp fa-university icon","aria-hidden":"true"})," ",r.createElement("span",null,"School:")," ",r.createElement("span",null,e.details.listMetadata.school.length>2?e.details.listMetadata.school.slice(0,-1).join(", ")+", and "+e.details.listMetadata.school.slice(-1):e.details.listMetadata.school.join(", and "))),n=e.details.listMetadata&&e.details.listMetadata.department&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw fa-sharp fa-building icon","aria-hidden":"true"})," ",r.createElement("span",null,"Department:")," ",r.createElement("span",null,e.details.listMetadata.department.length>2?e.details.listMetadata.department.slice(0,-1).join(", ")+", and "+e.details.listMetadata.department.slice(-1):e.details.listMetadata.department.join(", and "))),l=e.details.listMetadata&&e.details.listMetadata.centre&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw fa-vial icon","aria-hidden":"true"})," ",r.createElement("span",null,"Research centre:")," ",r.createElement("span",null,e.details.listMetadata.centre.length>2?e.details.listMetadata.centre.slice(0,-1).join(", ")+", and "+e.details.listMetadata.centre.slice(-1):e.details.listMetadata.centre.join(", and ")));return r.createElement("li",{className:"card card--casestudy"},r.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details"},r.createElement("div",{className:"card__details__text"},r.createElement("h3",{className:"card__heading"},e.details.title),t,r.createElement("p",{className:"card__description"},e.details.listMetadata&&e.details.listMetadata.c&&e.details.listMetadata.c[0]),a,n,l)))}Ie.propTypes={details:s().object};const Ve=Ie;function Be(e){var t=e.details.listMetadata&&e.details.listMetadata.school&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw fa-sharp fa-university icon","aria-hidden":"true"})," ",r.createElement("span",null,"School:")," ",r.createElement("span",null,e.details.listMetadata.school.length>2?e.details.listMetadata.school.slice(0,-1).join(", ")+", and "+e.details.listMetadata.school.slice(-1):e.details.listMetadata.school.join(", and "))),a=e.details.listMetadata&&e.details.listMetadata.department&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw fa-building icon","aria-hidden":"true"})," ",r.createElement("span",null,"Department:")," ",r.createElement("span",null,e.details.listMetadata.department.length>2?e.details.listMetadata.department.slice(0,-1).join(", ")+", and "+e.details.listMetadata.department.slice(-1):e.details.listMetadata.department.join(", and "))),n=e.details.listMetadata&&e.details.listMetadata.related&&r.createElement("p",{className:"card__type"},e.details.listMetadata.related.length>2?m(e.details.listMetadata.related.join("|")).split("|").slice(0,-1).join(", ")+" and "+m(e.details.listMetadata.related.join("|")).split("|").slice(-1):m(e.details.listMetadata.related.join("|")).split("|").join(" and "));return r.createElement("li",{className:"card card--centre"},r.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details"},r.createElement("div",{className:"card__details__text"},r.createElement("h3",{className:"card__heading"},e.details.title),n,r.createElement("p",{className:"card__description"},e.details.listMetadata&&e.details.listMetadata.c&&e.details.listMetadata.c[0]),t,a)))}Be.propTypes={details:s().object};const He=Be;function Je(e){var t=e.details.listMetadata&&e.details.listMetadata.department&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw fa-sharp fa-building icon","aria-hidden":"true"})," ",r.createElement("span",null,"Department:")," ",e.details.listMetadata.department[0]),a=e.details.listMetadata&&e.details.listMetadata.school&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw fa-sharp fa-university icon","aria-hidden":"true"})," ",r.createElement("span",null,"School:")," ",e.details.listMetadata.school[0]),n=e.details.listMetadata&&e.details.listMetadata.jobtitle&&r.createElement("p",{className:"card__type"},e.details.listMetadata.jobtitle[0]),l=e.details.listMetadata&&e.details.listMetadata.email&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw fa-envelope icon","aria-hidden":"true"})," ",r.createElement("span",null,"Email:")," ",r.createElement("a",{href:"mailto:"+e.details.listMetadata.email[0]},e.details.listMetadata.email[0])),s=e.details.listMetadata&&e.details.listMetadata.altemail&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fad fa-user icon","aria-hidden":"true"})," ",r.createElement("span",null,"Executive Assistant:")," ",r.createElement("a",{href:"mailto:"+e.details.listMetadata.altemail[0]},e.details.listMetadata.altemail[0])),i=e.details.listMetadata&&e.details.listMetadata.telephone&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw fa-phone fa-rotate-90 icon","aria-hidden":"true"})," ",r.createElement("span",null,"Telephone:")," ",r.createElement("a",{href:"tel:"+e.details.listMetadata.telephone[0]},e.details.listMetadata&&e.details.listMetadata.friendlytelephone&&e.details.listMetadata.friendlytelephone[0])),c=e.details.listMetadata&&e.details.listMetadata.room&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw fa-door-open icon","aria-hidden":"true"})," ",r.createElement("span",null,"Room:")," ",e.details.listMetadata.room[0]),o=e.details.listMetadata&&e.details.listMetadata.enquiryurl&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw fa-edit icon","aria-hidden":"true"})," ",r.createElement("span",null,"Enquiries:")," ",r.createElement("a",{href:e.details.listMetadata.enquiryurl[0]},e.details.listMetadata&&e.details.listMetadata.enquirylabel&&e.details.listMetadata.enquirylabel[0]));return r.createElement("li",{className:"card card--contact"},r.createElement("div",{className:"card__details"},r.createElement("div",{className:"card__details__text"},r.createElement("h3",{className:"card__heading"},e.details.title),n,a,t,c,l,i,o,s)))}Je.propTypes={details:s().object};const $e=Je;a(5086);const Ye=function(e,t){if(!t)return e;var a=e.split(t);return r.createElement(r.Fragment,null,a.reduce((function(e,a,n){return 0===n?[a]:e.concat(r.createElement("span",{className:"highlightText",key:t+a},t),a)}),[]))};var Ge=["www.citystgeorges.ac.uk"];function ze(e){var t=e.details.listMetadata&&e.details.listMetadata.type&&e.details.listMetadata.type[0]||e.details.listMetadata&&e.details.listMetadata.level&&e.details.listMetadata.level[0]||null,a=e.details.listMetadata&&e.details.listMetadata.qualification&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw fa-award icon","aria-hidden":"true"})," ",r.createElement("span",null,"Award",e.details.listMetadata.qualification.length>1&&"s",":")," ",r.createElement("span",null,e.details.listMetadata.qualification.join(", "))),n=e.details.listMetadata&&e.details.listMetadata.duration&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fal fa-fw fa-clock icon","aria-hidden":"true"})," ",r.createElement("span",null,"Duration:")," ",r.createElement("span",null,e.details.listMetadata.duration[0])),l=e.details.listMetadata&&e.details.listMetadata.method&&e.details.listMetadata.level&&"Short courses and professional development"!==e.details.listMetadata.level[0]&&(e.query.facets&&e.query.facets.method||e.query.query.indexOf(e.details.listMetadata.method[0])>=0||e.details.listMetadata.method[0].indexOf("Online")>=0)&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fa-solid fa-book-open-reader icon","aria-hidden":"true"})," ",r.createElement("span",null,"Method",e.details.listMetadata.method.length>1&&"s"," of study:")," ",r.createElement("span",null,m(Array.from(new Set(e.details.listMetadata.method)).join("|")).split("|").join(", "))),s=e.details.listMetadata&&"tooting"!==String(e.details.listMetadata.location).toLowerCase()?e.details.listMetadata.location&&e.query.facets&&e.query.facets.location&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw fa-map-marker-alt icon","aria-hidden":"true"})," ",r.createElement("span",null,"Location:")," ",r.createElement("span",null,"Online|Online"===e.details.listMetadata.location.join("|")?"Online":e.details.listMetadata.location.join(", "))):null,i=e.details.listMetadata&&e.details.listMetadata.school&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw fa-sharp fa-university icon","aria-hidden":"true"})," ",r.createElement("span",null,"School:")," ",r.createElement("span",null,e.details.listMetadata.school.map((function(e,t){return 0===t?r.createElement(r.Fragment,{key:t},e.replace("and","&")):r.createElement(r.Fragment,{key:t},"| ",e)})))),c=e.details.listMetadata&&"tooting"===String(e.details.listMetadata.location).toLowerCase()?r.createElement("div",{className:"card__label card--course__label--stgeorges"},r.createElement("p",null,r.createElement("span",{className:"fas fa-fw fa-map-marker-alt icon","aria-hidden":"true"})," ","Tooting Campus")):null,o=e.details.listMetadata&&e.details.listMetadata.clearing&&["Yes","yes"].includes(e.details.listMetadata.clearing[0])&&r.createElement("div",{className:"card__label card--course__label--clearing"},r.createElement("p",{className:"card__label card--course__label--clearing"},"Clearing")),u=Ge.some((function(t){return e.details.indexUrl&&e.details.indexUrl.indexOf(t)>=0}))?null:r.createElement(r.Fragment,null," ",r.createElement("span",{className:"fas fa-sharp fa-external-link icon","aria-label":"(external link)"})),d=e.details.listMetadata&&e.details.listMetadata.code&&(["Undergraduate degree","Foundation course","Postgraduate taught degree"].some((function(t){return e.details.listMetadata&&e.details.listMetadata.level&&e.details.listMetadata.level.indexOf(t)>=0}))||e.query.query.indexOf(e.details.listMetadata.code[0])>=0)?r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw fa-graduation-cap icon","aria-hidden":"true"})," ",r.createElement("span",null,"Course code",e.details.listMetadata.code.length>1&&"s",":")," ",r.createElement("span",null,e.details.listMetadata.code.join("/"))):null,f=e.details.listMetadata&&e.details.listMetadata.entryyears&&(["Undergraduate degree"].some((function(t){return e.details.listMetadata&&e.details.listMetadata.level&&e.details.listMetadata.level.indexOf(t)>=0}))||e.query.query.indexOf(e.details.listMetadata.entryyears[0])>=0)?r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw fa-calendar icon","aria-hidden":"true"})," ",r.createElement("span",null,"Year",e.details.listMetadata.entryyears.length>1&&"s"," of entry:")," ",r.createElement("span",null,e.details.listMetadata.entryyears.join("/"))):null,p=e.details.listMetadata&&e.details.listMetadata.c&&e.details.listMetadata.c[0]&&r.createElement("p",{className:"card__description"},e.query.query?Ye(e.details.listMetadata.c[0],e.query.query):e.details.listMetadata.c[0]);return r.createElement("li",{className:"card card--course"},r.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details"},r.createElement("div",{className:"wrapper--card__label__details"},o,r.createElement("div",{className:"card__details__text"},r.createElement("h3",{className:"card__heading"},e.query.query?Ye(e.details.title,e.query.query):e.details.title,u),r.createElement("p",{className:"card__type"},e.query.query&&t?Ye(t,e.query.query):t&&t),p,c,i,a,n,d,f,l,s))))}ze.propTypes={details:s().object,query:s().object};const Qe=ze;function We(e){var t,a,n,l,s,i,c,o,u,d,m,f=e.details.listMetadata&&e.details.listMetadata.d&&(u=e.details.listMetadata.d[0],d=new Date(u),m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][d.getUTCMonth()],r.createElement("p",{className:"card--event__label--shortdate"},r.createElement("span",null,d.getUTCDate())," ",m)),b=e.details.listMetadata&&e.details.listMetadata.location&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw icon fa-map-marker-alt","aria-hidden":"true"})," ",r.createElement("span",null,"Location:")," ",r.createElement("span",null,e.details.listMetadata.location.join(", "))),_=e.details.listMetadata&&e.details.listMetadata.audience&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw icon fa-users","aria-hidden":"true"})," ",r.createElement("span",null,"Audience:")," ",r.createElement("span",null,Array.from(new Set(e.details.listMetadata.audience)).map((function(e){return"".concat(e[0].toUpperCase()).concat(e.slice(1)).replace(/-/g," ")})).join("|").split("|").join("; "))),h=e.details.listMetadata&&e.details.listMetadata.thumbnail&&r.createElement("img",{src:e.details.listMetadata.thumbnail[0],alt:"",className:"card__thumbnail"}),g=e.details.listMetadata&&e.details.listMetadata.d&&e.details.listMetadata.d[0],E=e.details.listMetadata&&e.details.listMetadata.d&&e.details.listMetadata.d[1],v=g&&E&&e.details.listMetadata&&e.details.listMetadata.displayTime&&(t=g,a=E,n=parseInt(e.details.listMetadata.displayTime[0]),l=new Date(t),s=new Date(a),i=new Date(l.setUTCHours(0,0,0)),c=new Date(s.setUTCHours(0,0,0)),o=n?r.createElement(r.Fragment,null,", ",p(t)," - ",p(a,!0)):null,i.getTime()===c.getTime()?r.createElement("p",{className:"card__type true"},y(l),o):r.createElement("p",{className:"card__type false"},y(l)," - ",y(s),o));return r.createElement("li",{className:"card card--event card--landscape"},r.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details"},h,f,r.createElement("div",{className:"card__details__text"},r.createElement("h3",{className:"card__heading"},e.details.title),r.createElement("p",{className:"card__description"},e.details.listMetadata&&e.details.listMetadata.c&&e.details.listMetadata.c[0]),v,b,_)))}We.propTypes={details:s().object};const Ke=We;function Xe(e){var t=e.details.listMetadata&&e.details.listMetadata.school&&e.query.facets&&e.query.facets.school&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw fa-sharp fa-university icon","aria-hidden":"true"})," ",r.createElement("span",null,"School:")," ",r.createElement("span",null,e.details.listMetadata.school.length>2?e.details.listMetadata.school.slice(0,-1).join(", ")+", or "+e.details.listMetadata.school.slice(-1):e.details.listMetadata.school.join(", or "))),a=e.details.listMetadata&&e.details.listMetadata.hardship&&"1"===e.details.listMetadata.hardship[0]&&r.createElement("div",{className:"card--funding__label--hardship"},r.createElement("p",null,"Hardship funding")),n=e.details.listMetadata&&e.details.listMetadata.programme&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw fa-graduation-cap icon","aria-hidden":"true"})," ",r.createElement("span",null,"Programme",e.details.listMetadata.programme.length>2?"s":null,":")," ",r.createElement("span",null,e.details.listMetadata.programme.length>2?m(e.details.listMetadata.programme.join("|")).split("|").slice(0,-1).join(", ")+" or "+m(e.details.listMetadata.programme.join("|")).split("|").slice(-1):m(e.details.listMetadata.programme.join("|")).split("|").join(" or "))),l=e.details.listMetadata&&e.details.listMetadata.level&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw fa-award icon","aria-hidden":"true"})," ",r.createElement("span",null,"Programme level:")," ",r.createElement("span",null,e.details.listMetadata.level.length>2?m(e.details.listMetadata.level.join("|")).split("|").slice(0,-1).join(", ")+" or "+m(e.details.listMetadata.level.join("|")).split("|").slice(-1):m(e.details.listMetadata.level.join("|")).split("|").join(" or "))),s=e.details.listMetadata&&e.details.listMetadata.feestatus&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"far fa-fw fa-globe-europe icon","aria-hidden":"true"})," ",r.createElement("span",null,"Fee status:")," ",r.createElement("span",null,e.details.listMetadata.feestatus.length>2?e.details.listMetadata.feestatus.slice(0,-1).join(", ")+" or "+e.details.listMetadata.feestatus.slice(-1):e.details.listMetadata.feestatus.join(" or ")));return r.createElement("li",{className:"card card--funding"},r.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details"},a,r.createElement("div",{className:"card__details__text"},r.createElement("h3",{className:"card__heading"},e.details.title.replace("&amp;","&")),r.createElement("p",{className:"card__type"},e.details.listMetadata&&e.details.listMetadata.type&&e.details.listMetadata.type[0]),r.createElement("p",{className:"card__description"},e.details.listMetadata&&e.details.listMetadata.c&&e.details.listMetadata.c[0]),l,n,s,t)))}Xe.propTypes={details:s().object,query:s().object};const Ze=Xe;function et(e){var t=e.details.listMetadata&&e.details.listMetadata.school&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw fa-sharp fa-university icon","aria-hidden":"true"})," ",r.createElement("span",null,"School:")," ",r.createElement("span",null,e.details.listMetadata.school.length>2?e.details.listMetadata.school.slice(0,-1).join(", ")+", and "+e.details.listMetadata.school.slice(-1):e.details.listMetadata.school.join(", and "))),a=e.details.listMetadata&&e.details.listMetadata.department&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw fa-sharp fa-building icon","aria-hidden":"true"})," ",r.createElement("span",null,"Department:")," ",r.createElement("span",null,e.details.listMetadata.department.length>2?e.details.listMetadata.department.slice(0,-1).join(", ")+", and "+e.details.listMetadata.department.slice(-1):e.details.listMetadata.department.join(", and "))),n=e.details.title&&r.createElement("h3",{className:"card__heading"},e.details.title.indexOf("School")>=0?e.details.title.replace("&amp;","&"):e.details.title);return r.createElement("li",{className:"card card--generic"},r.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details"},r.createElement("div",{className:"card__details__text"},n,r.createElement("p",{className:"card__description"},e.details.listMetadata&&e.details.listMetadata.c&&e.details.listMetadata.c[0]),t,a)))}et.propTypes={details:s().object};const tt=et;function at(e){var t=e.details.listMetadata&&e.details.listMetadata.location&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw fa-map-marker-alt icon","aria-hidden":"true"})," ",r.createElement("span",null,"Location:")," ",r.createElement("span",null,e.details.listMetadata.location[0])),a=e.details.listMetadata&&e.details.listMetadata.code?r.createElement(r.Fragment,null,r.createElement("span",{className:"card--module__code"},e.details.listMetadata.code[0])," ",r.createElement("span",null,e.details.title)):r.createElement(r.Fragment,null,r.createElement("span",null,e.details.title)),n=e.details.listMetadata&&e.details.listMetadata.school&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw fa-sharp fa-university icon","aria-hidden":"true"})," ",r.createElement("span",null,"School:")," ",r.createElement("span",null,e.details.listMetadata.school.length>2?e.details.listMetadata.school.slice(0,-1).join(", ")+", and "+e.details.listMetadata.school.slice(-1):e.details.listMetadata.school.join(", and "))),l=e.details.listMetadata&&e.details.listMetadata.term&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"far fa-fw fa-calendar icon","aria-hidden":"true"})," ",r.createElement("span",null,"Semester:")," ",r.createElement("span",null,e.details.listMetadata.term.length>2?"All year":e.details.listMetadata.term.join(" or "))),s=e.details.listMetadata&&e.details.listMetadata.related&&r.createElement("p",{className:"card__type"},e.details.listMetadata.related.sort().map((function(e,t){return t>0?e.toLowerCase():e})).join(", ")),i=e.details.listMetadata&&e.details.listMetadata.specification&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"far fa-fw fa-file-pdf icon","aria-label":"PDF"})," ",r.createElement("a",{href:e.details.listMetadata.specification[0]},"Download module specification"));return r.createElement("li",{className:"card card--module"},r.createElement("div",{className:"card__details"},r.createElement("div",{className:"card__details__text"},r.createElement("h3",{className:"card__heading"},a),s,r.createElement("p",{className:"card__description"},e.details.listMetadata&&e.details.listMetadata.c&&e.details.listMetadata.c[0]),l,n,t,i)))}at.propTypes={details:s().object,query:s().object};const rt=at;function nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,l,s,i=[],c=!0,o=!1;try{if(l=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(r=l.call(a)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){o=!0,n=e}finally{try{if(!c&&null!=a.return&&(s=a.return(),Object(s)!==s))return}finally{if(o)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lt(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?lt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}function st(e){var t=nt((0,r.useState)(!1),2),a=t[0],n=t[1],l=e.thumbnailSourceName,s=e.thumbnailSourceUrl,i=e.thumbnailAuthorName,c=e.thumbnailAuthorUrl,o=e.thumbnailLicenceType,u=e.thumbnailLicenceUrl,d=e.displayToolTip,m=c&&i?r.createElement("a",{href:c},i):i?r.createElement("span",null,i):null,f=s&&l?r.createElement("a",{href:s},l):l?r.createElement("span",null,l):null,p=u&&o?r.createElement("a",{href:u},o):o||null;return d&&(i||l)?r.createElement("figure",{className:"wrapper--tooltip__label","data-open":a},r.createElement("button",{className:"tooltip tooltip--image-credit",type:"button","aria-expanded":a,onClick:function(){return n(!a)}},r.createElement("span",{className:"tooltip__icon icon fa-sharp fa-light fa-subtitles ".concat(a?"fa-xmark":"fa-subtitles")}),r.createElement("span",{className:"sr-only"},"Show image credit")),r.createElement("figcaption",{className:"tooltip__label"},m," ",f&&"/ "," ",f," ",p)):null}st.propTypes={thumbnailSourceName:s().oneOfType([s().string,s().bool]),thumbnailSourceUrl:s().oneOfType([s().string,s().bool]),thumbnailAuthorName:s().oneOfType([s().string,s().bool]),thumbnailAuthorUrl:s().oneOfType([s().string,s().bool]),thumbnailLicenseType:s().oneOfType([s().string,s().bool]),thumbnailLicenseUrl:s().oneOfType([s().string,s().bool]),displayToolTip:s().bool};const it=st;function ct(e){var t=e.details.listMetadata&&e.details.listMetadata.thumbnailSourceName&&e.details.listMetadata.thumbnailSourceName[0]||!1,a=e.details.listMetadata&&e.details.listMetadata.thumbnailSourceUrl&&e.details.listMetadata.thumbnailSourceUrl[0]||!1,n=e.details.listMetadata&&e.details.listMetadata.thumbnailAuthorName&&e.details.listMetadata.thumbnailAuthorName[0]||!1,l=e.details.listMetadata&&e.details.listMetadata.thumbnailAuthorUrl&&e.details.listMetadata.thumbnailAuthorUrl[0]||!1,s=e.details.listMetadata&&e.details.listMetadata.thumbnailLicenceType&&e.details.listMetadata.thumbnailLicenceType[0]||!1,i=e.details.listMetadata&&e.details.listMetadata.thumbnailLicenceUrl&&e.details.listMetadata.thumbnailLicenceUrl[0]||!1,c=e.details.listMetadata&&e.details.listMetadata.thumbnailToolTip&&"true"===e.details.listMetadata.thumbnailToolTip[0],o=e.details.listMetadata&&e.details.listMetadata.d&&y(new Date(e.details.listMetadata.d[0])),u=e.details.listMetadata&&e.details.listMetadata.d&&r.createElement("p",{className:"card__type"},o),d=e.details.listMetadata&&e.details.listMetadata.hashtagtext&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fad fa-fw fa-hashtag icon","aria-hidden":"true"})," ",r.createElement("span",null,"Hashtag",e.details.listMetadata.hashtagtext.length>1&&"s",":")," ",r.createElement("span",null,e.details.listMetadata.hashtagtext.join(", "))),m=e.details.listMetadata&&e.details.listMetadata.thumbnailTiny&&e.details.listMetadata.thumbnailTiny[0]&&e.details.listMetadata.thumbnailMax&&e.details.listMetadata.thumbnailMax[0]&&e.details.listMetadata.thumbnailMobile&&e.details.listMetadata.thumbnailMobile[0]?r.createElement("picture",null,r.createElement("source",{srcSet:e.details.listMetadata.thumbnailTiny[0],media:"(max-width: 375px)"}),r.createElement("source",{srcSet:e.details.listMetadata.thumbnailMax[0],media:"(min-width: 3840px)"}),r.createElement("img",{src:e.details.listMetadata.thumbnailMobile[0],alt:e.details.title})):e.details.listMetadata&&e.details.listMetadata.thumbnail?r.createElement("img",{src:e.details.listMetadata.thumbnail[0],alt:"",className:"card__thumbnail"}):null;return r.createElement("li",{className:"card card--news"},r.createElement(it,{thumbnailSourceName:t,thumbnailSourceUrl:a,thumbnailAuthorName:n,thumbnailAuthorUrl:l,thumbnailLicenceType:s,thumbnailLicenceUrl:i,displayToolTip:c}),r.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details"},m,r.createElement("div",{className:"card__details__text"},u,r.createElement("h3",{className:"card__heading"},e.details.title),r.createElement("p",{className:"card__description"},e.details.listMetadata&&e.details.listMetadata.c&&e.details.listMetadata.c[0]),d)))}ct.propTypes={details:s().object};const ot=ct;function ut(e){var t=e.details.listMetadata&&e.details.listMetadata.school&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw fa-sharp fa-university icon","aria-hidden":"true"})," ",r.createElement("span",null,"School:")," ",e.details.listMetadata.school[0].replace("and","&")),a=e.details.listMetadata&&e.details.listMetadata.department&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw fa-sharp fa-building icon","aria-hidden":"true"})," ",r.createElement("span",null,"Department:")," ",e.details.listMetadata.department[0]),n=e.details.listMetadata&&e.details.listMetadata.thumbnail&&r.createElement("div",{className:"card__thumbnail"},r.createElement("img",{src:e.details.listMetadata.thumbnail[0],alt:"Photo of "+e.details.title})),l=e.details.listMetadata&&e.details.listMetadata.ediAmbassador&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw fa-sharp fa-people-roof icon","aria-hidden":"true"})," ",r.createElement("span",null,"EDI Ambassador")),s=e.details.listMetadata&&e.details.listMetadata.thumbnail&&"card--profile--thumbnailAvailable",i=e.query.facets&&e.query.facets.country&&e.details.listMetadata&&e.details.listMetadata.country&&r.createElement("div",{className:"card__tag"},r.createElement("span",{className:"fad fa-fw fa-globe-europe icon","aria-hidden":"true"})," ",r.createElement("span",null,"Country:")," ",e.details.listMetadata.country.length>2?e.details.listMetadata.country.slice(0,-1).join(", ")+" and "+e.details.listMetadata.country.slice(-1):e.details.listMetadata.country.join(" and "));return r.createElement("li",{className:"card card--profile"},r.createElement("a",{href:e.details.liveUrl,className:"card__anchor card__details ".concat(s)},n,r.createElement("div",{className:"card__details__text"},r.createElement("h3",{className:"card__heading"},e.details.title),r.createElement("p",{className:"card__type"},e.details.listMetadata&&e.details.listMetadata.jobtitle&&e.details.listMetadata.jobtitle[0]),t,a,i,l)))}ut.propTypes={details:s().object,query:s().object};const dt=ut;function mt(e){var t=e.details.listMetadata&&e.details.listMetadata.school&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw fa-sharp fa-university icon","aria-hidden":"true"})," ",r.createElement("span",null,"School:")," ",r.createElement("span",null,e.details.listMetadata.school.length>2?e.details.listMetadata.school.slice(0,-1).join(", ")+" and "+e.details.listMetadata.school.slice(-1):e.details.listMetadata.school.join(" and "))),a=e.details.listMetadata&&e.details.listMetadata.department&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw fa-sharp fa-building icon","aria-hidden":"true"})," ",r.createElement("span",null,"Department:")," ",r.createElement("span",null,e.details.listMetadata.department.length>2?e.details.listMetadata.department.slice(0,-1).join(", ")+" and "+e.details.listMetadata.department.slice(-1):e.details.listMetadata.department.join(" and "))),n=e.details.listMetadata&&e.details.listMetadata.researchCentre&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw fa-vial icon","aria-hidden":"true"})," ",e.details.listMetadata.researchCentre.length>1?r.createElement("span",null,"Research centres: "):r.createElement("span",null,"Research centre: ")),l=e.details.listMetadata&&e.details.listMetadata.academic&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw fa-chalkboard-teacher icon","aria-hidden":"true"})," ",e.details.listMetadata.academic.length>1?r.createElement("span",null,"Academics: "):r.createElement("span",null,"Academic: ")),s=e.details.listMetadata&&e.details.listMetadata.student&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"fas fa-fw fa-users icon","aria-hidden":"true"})," ",e.details.listMetadata.student.length>1?r.createElement("span",null,"Students: "):r.createElement("span",null,"Student: ")),i=e.details.listMetadata&&e.details.listMetadata.relatedDegree&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"far fa-fw fa-diploma icon","aria-hidden":"true"})," ",e.details.listMetadata.relatedDegree.length>1?r.createElement("span",null,"Related degrees: "):r.createElement("span",null,"Related degree: ")),c=e.details.listMetadata&&e.details.listMetadata.status&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"far fa-fw fa-hourglass icon","aria-hidden":"true"})," ",r.createElement("span",null,"Status:")," ",r.createElement("span",null,e.details.listMetadata.status[0]," "),"Completed project"===e.details.listMetadata.status[0]?r.createElement("span",{className:"far fa-fw fa-check-circle icon","aria-hidden":"true"}):null),o=e.details.listMetadata&&e.details.listMetadata.site&&r.createElement("p",{className:"card__tag"},r.createElement("span",{className:"far fa-fw fa-globe icon","aria-hidden":"true"})," ",r.createElement("span",null,r.createElement("a",{href:e.details.listMetadata.site[0]},"View case study site")));return r.createElement("li",{className:"card card--research"},r.createElement("div",{className:"card__details"},r.createElement("div",{className:"card__details__text"},r.createElement("h3",{className:"card--research__title-link"},e.details.title),r.createElement("p",{className:"card__description"},e.details.listMetadata&&e.details.listMetadata.c&&e.details.listMetadata.c[0]),t,a,n,i,l,s,c,o)))}mt.propTypes={details:s().object};const ft=mt;function pt(e){switch(e.type){case"accommodation":return r.createElement(Le,{details:e.details});case"casestudy":return r.createElement(Ve,{details:e.details});case"centre":return r.createElement(He,{details:e.details});case"contact":return r.createElement($e,{details:e.details});case"course":return r.createElement(Qe,{details:e.details,query:e.query});case"event":return r.createElement(Ke,{details:e.details});case"funding":return r.createElement(Ze,{details:e.details,query:e.query});case"module":return r.createElement(rt,{details:e.details,query:e.query});case"news":return r.createElement(ot,{details:e.details});case"profile":return r.createElement(dt,{details:e.details,query:e.query});case"research":return r.createElement(ft,{details:e.details,query:e.query});default:return r.createElement(tt,{details:e.details})}}pt.propTypes={details:s().object,query:s().object,type:s().string};const yt=pt;function bt(e){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bt(e)}function _t(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ht(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=bt(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=bt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function gt(e){var t,a,n=null!==(t=null===(a=e.response.spell)||void 0===a||null===(a=a.text)||void 0===a?void 0:a.split(/\s/)[0].trim())&&void 0!==t?t:"",l=e.query.misspelling?r.createElement("p",{className:"finder__results__didyoumean"},"No ",e.summariseAs&&e.summariseAs.plural," found for â€œ",e.query.misspelling,"â€. Searching instead for â€œ",e.query.query,"â€."):r.createElement("p",{className:"finder__results__didyoumean"},"Did you mean"," ",r.createElement("button",{type:"button",className:"finder__didyoumean__button",onClick:function(){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(a),!0).forEach((function(t){ht(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_t(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e.query);t.query=n,t.startRank=1,t.misspelling=null,t.interacted=!0,t.facets={},e.update.query(t),e.update.results(!e.update.updateState)}},"â€œ",n,"â€"),"?");return l}gt.propTypes={query:s().object,response:s().object,summariseAs:s().object,update:s().object};const Et=gt;function vt(e){var t=e.totalMatching&&e.numRanks&&Math.ceil(e.totalMatching/e.numRanks),a=e.currStart&&e.numRanks&&Math.ceil(e.currStart/e.numRanks),n=[],l=function(t){var a=e.numRanks&&1+(t-1)*e.numRanks,r=e.query;r.startRank=a,r.misspelling=null,r.interacted=!0,e.update.query(r),e.update.results(!e.update.updateState)};n.push(1===a?r.createElement("span",{key:"previousPage",className:"pagination__controls__button--prev"},r.createElement("span",null,"Previous page")):r.createElement("a",{className:"pagination__controls__button--prev",key:"prev",role:"button",onClick:function(e){e.preventDefault(),a&&l(a-1)},href:be(e.query,null,a-1,e.numRanks)},r.createElement("span",null,"Previous page ",a)));for(var s=function(s){var i;switch(s-t){case 0:i="pagination__controls__element pagination__controls__button pagination__controls__button--last";break;case-1:i="pagination__controls__element pagination__controls__button pagination__controls__button--penultimate";break;default:i="pagination__controls__element pagination__controls__button"}n.push(r.createElement("a",{"aria-current":s===a?"page":void 0,"aria-expanded":s===a,"aria-label":"Open page ".concat(s),className:i,"data-page":s,"data-proximity":Math.abs(s-a),key:s,role:"button","aria-disabled":s===a,onClick:function(e){e.preventDefault(),l(s)},href:be(e.query,null,s,e.numRanks)},r.createElement("span",null,s))),1===s?n.push(r.createElement("span",{key:"firstEllipsis",className:"pagination__controls__element pagination__controls__ellipsis pagination__controls__ellipsis--first"},r.createElement("span",null,"â€¦"))):s===t-1&&n.push(r.createElement("span",{key:"lastEllipsis",className:"pagination__controls__element pagination__controls__ellipsis pagination__controls__ellipsis--last"},r.createElement("span",null,"â€¦")))},i=1;i<=t;i++)s(i);return n.push(a===t?r.createElement("span",{key:"nextPage",className:"pagination__controls__button--next"},r.createElement("span",null,"Next page")):r.createElement("a",{className:"pagination__controls__button--next",key:"next",role:"button","aria-disabled":a===t,onClick:function(e){e.preventDefault(),a!==t&&l(a+1)},href:be(e.query,null,a+1,e.numRanks)},r.createElement("span",null,"Next page"))),r.createElement("div",{className:"pagination__wrapper"},r.createElement("nav",{className:"pagination__controls","data-pagecount":t},n))}vt.propTypes={currStart:s().number,query:s().object,numRanks:s().number,totalMatching:s().number,update:s().object};const Mt=vt;function jt(e){var t=e.heading,a=e.body,n=e.linkRef,l=e.linkText;return r.createElement("li",{className:"card card--finder-promo promo-area__wrap"},r.createElement("div",{className:"promo-area layout__left--full"},r.createElement("div",{className:"promo-area__content background--pink90"},r.createElement("h3",{className:"promo-area__heading"},t),r.createElement("div",{className:"promo-area__container"},r.createElement("div",{className:"promo-area__text"},r.createElement("p",null,a),r.createElement("p",{className:"cta-block__cta"},r.createElement("a",{href:n,className:"outline-cta-arrow--bright"},r.createElement("span",null,l))))))))}jt.propTypes={heading:s().string,body:s().string,linkRef:s().string,linkText:s().string};const Nt=jt;function St(e){var t=1===e.totalMatching?e.summariseAs.singular:e.summariseAs.plural,a=new Intl.NumberFormat("en-GB"),n=e.config.sort.length>1&&e.config.displaySort?r.createElement("div",{className:"wrapper--finder__select--sort--desktop"},r.createElement(qe,{config:e.config,query:e.query,update:e.update})):null;return 0===e.totalMatching?r.createElement("div",{className:"finder__results__summary finder__results__summary--noresults",ref:e.summaryHeadingRef},r.createElement("h2",{className:"finder__results__summary__heading"},"Your search did not match any ",e.summariseAs.plural,"."),r.createElement("p",null,"Suggestions:"),r.createElement("ul",null,r.createElement("li",null,"Make sure that all words are spelled correctly"),r.createElement("li",null,"Try different keywords"),r.createElement("li",null,"Try more general keywords"),r.createElement("li",null,"Try fewer keywords"),r.createElement("li",null,"Try fewer filters"),Object.keys(e.query.facets).length>0&&r.createElement("li",null,r.createElement("button",{type:"button",onClick:function(){e.clear(!0)}},"Reset filters")),e.query.query&&r.createElement("li",null,r.createElement("button",{type:"button",onClick:function(){var t=e.query;t.query="",t.sortType=e.config.sort[0].type,t.misspelling=null,t.startRank=1,t.interacted=!0,e.update.query(t),e.update.results(!e.update.updateState)}},"Reset query")))):r.createElement("div",{className:"finder__results__summary",ref:e.summaryHeadingRef},r.createElement("h2",{"aria-live":"polite",className:"finder__results__summary__heading"},e.query.query||Object.keys(e.query.facets).length>0?"Matching":"All"," ",t," ",r.createElement("span",null,"(showing"," ",e.totalMatching>e.numRanks&&r.createElement(r.Fragment,null,r.createElement("span",null,a.format(e.currStart)),"â€“",r.createElement("span",null,e.currEnd&&a.format(e.currEnd))," ","of"," "),r.createElement("span",null,a.format(e.totalMatching))," ",t,e.query.query&&" for â€œ".concat(e.query.query,"â€"),")")),n)}St.propTypes={clear:s().func,config:s().object,currEnd:s().number,currStart:s().number,numRanks:s().number,query:s().object,summariseAs:s().object,totalMatching:s().number,update:s().object};const wt=St;var Ot=a(9418);function qt(e){var t=Ot.A.sanitize(e.announcement,{ALLOWED_TAGS:["strong","p","h2","h3","a"]});return r.createElement("div",{className:"finder__results__announcement"},r.createElement("p",{dangerouslySetInnerHTML:{__html:t}}))}qt.propTypes={announcement:s().string};const kt=qt;function Tt(e){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tt(e)}function xt(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return At(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?At(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,s=!0,i=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){i=!0,l=e},f:function(){try{s||null==a.return||a.return()}finally{if(i)throw l}}}}function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}function Pt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Ct(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(a),!0).forEach((function(t){Rt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Rt(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=Tt(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=Tt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Tt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Dt(e){var t,a=r.createElement("p",{className:"finder__results__updating","aria-live":"polite"},r.createElement("span",{className:"fas fa-spinner fa-pulse icon","aria-hidden":"true"})," ",r.createElement("span",null,"Updating ",e.summariseAs&&e.summariseAs.plural,"â€¦")),n=!1,l=[];if(e.promo){for(var s,i=e.promo[0].conditions,c=e.promo[0].details,o=e.query.facets,u=e.query.query.toLowerCase(),d=Ct(Ct({},o),{},{searchFacets:u}),m=[],f=Object.values(d),p=0,y=f;p<y.length;p++){var b=y[p];m.push(b)}var _,h=xt(f=f.filter((function(e){return e})));try{var g=function(){var e=_.value;l=i.filter((function(t){return t.school===e||t.level===e||t.related===e||t.subject===e||t.type===e||t.searchQuery1===e}))};for(h.s();!(_=h.n()).done;)g()}catch(e){h.e(e)}finally{h.f()}l.length>0?(s=l[0].promoGroup,n=!0):n=!1,t=c.filter((function(e){return e.promoGroup===s}))}var E="resultsVariant"in e.config?"finder__results__list finder__results__list--".concat(e.config.resultsVariant):"finder__results__list";if(e.response){var v,M=r.createElement(wt,{clear:e.clear,config:e.config,currEnd:e.response.summary.currEnd,currStart:e.response.summary.currStart,numRanks:e.response.summary.numRanks,query:e.query,summariseAs:e.summariseAs,totalMatching:e.response.summary.totalMatching,update:e.update,summaryHeadingRef:e.summaryHeadingRef}),j=e.config.announcement&&r.createElement(kt,{announcement:e.config.announcement}),N=(e.query.misspelling||e.response.spell)&&r.createElement(Et,{query:e.query,summariseAs:e.summariseAs,response:e.response,update:e.update}),S=e.response.summary.totalMatching&&e.response.summary.numRanks&&e.response.summary.totalMatching>e.response.summary.numRanks&&r.createElement(Mt,{currStart:e.response.summary.currStart,numRanks:e.response.summary.numRanks,query:e.query,totalMatching:e.response.summary.totalMatching,update:e.update}),w=t&&r.createElement(Nt,{heading:t[0].heading,body:t[0].body,linkRef:t[0].linkRef,linkText:t[0].linkText}),O=e.response.results;if(n&&(e.response.bestBets&&e.response.bestBets.length>0||e.response.results.length>0))if(1===e.query.startRank){var q=e.response.results[0],k=Array.from(O.slice(1));v=r.createElement("ol",{start:e.response.summary.currStart,className:E},r.createElement(yt,{bestBets:!1,details:q,type:e.type,query:e.query}),w,k.map((function(t){return r.createElement(yt,{bestBets:!1,details:t,key:t.docNum,type:e.type,query:e.query})})))}else v=r.createElement("ol",{start:e.response.summary.currStart,className:E},e.response.results.map((function(t){return r.createElement(yt,{bestBets:!1,details:t,key:t.docNum,type:e.type,query:e.query})})));e.response.results&&!n&&(v=e.response.bestBets&&e.response.bestBets.length>0||e.response.results.length>0?r.createElement("ol",{start:e.response.summary.currStart,className:E},e.response.bestBets&&e.response.bestBets.map((function(e,t){return r.createElement(Ue,{details:e,key:"best-bet__".concat(t)})})),e.response.results.map((function(t){return r.createElement(yt,{bestBets:!1,details:t,key:t.docNum,type:e.type,query:e.query})}))):null);var T=e.updating?r.createElement(r.Fragment,null,a):r.createElement(r.Fragment,null,N,j,M,v,S);return r.createElement("div",{className:"finder__results"},T)}return r.createElement("div",{className:"finder__results"},a)}Dt.propTypes={clear:s().func,query:s().object,response:s().object,summariseAs:s().object,type:s().string,update:s().object,updating:s().bool,config:s().object,promo:s().array,pastEventsQuery:s().object,pastEventsResponse:s().object,pastEventsUpdate:s().object,matrixState:s().object};const Ut=Dt;a(5746),a(8408),a(9085),a(1699);function Ft(e){return"function"==typeof(null==e?void 0:e.get)}function Lt(e,t){if(Ft(t))return e.map((function(e){var a={},r=t.get("meta_".concat(e.meta,"_sand"));return r&&(a[e.meta]=r),a})).reduce((function(e,t){return Object.assign(e,t)}),{});var a=t;return e.map((function(e){var t={},r="meta_".concat(e.meta,"_sand");return a[r]&&(t[e.meta]=a[r]),t})).reduce((function(e,t){return Object.assign(e,t)}),{})}var It=a(6215),Vt=a.n(It);function Bt(e){return Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bt(e)}function Ht(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Jt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(a),!0).forEach((function(t){$t(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ht(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function $t(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=Bt(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=Bt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Bt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Yt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,l,s,i=[],c=!0,o=!1;try{if(l=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(r=l.call(a)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){o=!0,n=e}finally{try{if(!c&&null!=a.return&&(s=a.return(),Object(s)!==s))return}finally{if(o)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Gt(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Gt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}const zt=function(e,t,a,n){var l,s=(0,r.useRef)(null),c=q(),u="undefined"==typeof window||(l="undefined"!=typeof window?window.matchMedia("(prefers-reduced-motion: reduce)"):null)&&l.matches?0:1e3,d=t||{},m=e.facetLabels&&e.facetLabels.filter((function(e){return e.nonFBParam})),p=e.facetLabels&&e.facetLabels.length>0?Lt(e.facetLabels,a):{},y=e.site||void 0,b=e.profile||"_default",_={collection:e.collection,profile:b,facets:p,parameters:a&&a.parameters&&a.parameters.length>0?a.parameters:{},fixedFacets:e.fixedFacets,fixedParameters:e.fixParameters?e.fixParameters:[],interacted:!1,misspelling:null,numRanks:e.numRanks,query:a&&a.query?a.query:"",sortType:e.sort[0].type,startRank:a&&a.start_rank?parseInt(a.start_rank):1},h=Yt((0,r.useState)(Object.keys(a).length?a:null),2),g=h[0],v=h[1],N=Yt((0,r.useState)(_),2),S=N[0],w=N[1],O=Yt((0,r.useState)(Object.keys(d).length>0?Object.freeze(t):Object.freeze({bestBets:[],extraSearches:{},facets:[],results:[],spell:null,summary:{currEnd:0,currStart:0,numRanks:0,totalMatching:0}})),2),k=O[0],T=O[1],x=Yt((0,r.useState)(0===Object.keys(d).length),2),A=x[0],P=x[1],C=Yt((0,r.useState)({cancel:function(){}}),2),R=C[0],D=C[1],U=Yt((0,r.useState)(!1),2),F=U[0],L=U[1];return(0,r.useEffect)((function(){if(!g&&"undefined"!=typeof window){var e=new URLSearchParams(window.location.search),t={};e.forEach((function(e,a){t[a]=e})),v(t)}}),[g]),(0,r.useEffect)((function(){if(g){var t,r,n=!(c||!a),l={collection:e.collection,facets:e.facetLabels&&e.facetLabels.length>0?Lt(e.facetLabels,g):{},parameters:e.facetLabels&&m&&m.length>0?(t=e.facetLabels,r=g,Ft(r)?t.filter((function(e){return e.nonFBParam})).map((function(e){var t={},a=r.get(e.meta);return a&&(t[e.meta]=a),t})).reduce((function(e,t){return Object.assign(e,t)}),{}):t.map((function(e){var t={};return r[e.meta]&&(t[e.meta]=r[e.meta]),t})).reduce((function(e,t){return Object.assign(e,t)}),{})):{},fixedFacets:e.fixedFacets,fixedParameters:e.fixParameters||[],interacted:!1,misspelling:null,numRanks:e.numRanks,query:!n&&g.query?g.query:g.query||"",sortType:!n&&g.query?"":!n&&g.sort?g.sort:e.sort[0].type,startRank:!n&&g.start_rank||"string"==typeof g.start_rank?parseInt(g.start_rank,10):1};w(l)}}),[g,c]),(0,r.useEffect)((function(){c&&g&&g.num_ranks&&w((function(e){return Jt(Jt({},e),{},{numRanks:parseInt(g.num_ranks,10)||e.numRanks})}))}),[c,g]),(0,r.useEffect)((function(){if(S){if(function(e,t,a,r,n,l,s,i){if(i){var c=new URLSearchParams(window.location.search);if(Ft(c)){""!==e?c.set("query",e):c.delete("query"),t&&1!==t?c.set("start_rank",t.toString()):c.delete("start_rank"),n!==s&&""!==n?c.set("sort",n):c.delete("sort"),l.forEach((function(e){a[e.meta]?c.set("meta_".concat(e.meta,"_sand"),a[e.meta]):c.delete("meta_".concat(e.meta,"_sand"))})),l.forEach((function(e){r[e.meta]?c.set(e.meta,r[e.meta]):c.delete(e.meta)}));var o=c.toString().length?"?":"";window.history.replaceState({},"","".concat(window.location.pathname).concat(o).concat(c.toString()))}}}(S.query,S.startRank,S.facets,S.parameters||{},S.sortType,e.facetLabels||[],e.sort[0].type,c),P(!0),S.interacted&&n){var t=n.querySelector(".finder__results");t instanceof HTMLElement&&Vt().center(t,u,-window.innerHeight/10)}R.cancel();var a=function(e,t,a,r,n,l,s,c,u,d,m){var p={};a&&a.forEach((function(e){p["".concat(e.name)]=e.value}));var y={},b=u?Object.keys(u):[];u&&b.forEach((function(e){return y[e]=u[e]}));var _={};t&&t.forEach((function(e){_["meta_".concat(e.meta,"_sand")]=e.value}));var h={};Object.keys(c).forEach((function(e){return h["meta_".concat(e,"_sand")]=c[e]}));var g=i.A.CancelToken.source(),v={baseURL:M(d),cancelToken:g.token,httpsAgent:new(o().Agent)({keepAlive:!0}),url:"/funnelback-dxp-find",timeout:j,params:E(E(E(E(E({},p),_),h),y),{},{collection:e,profile:m||"_default",num_ranks:s,query:r,sort:n||"",start_rank:l})},N={bestBets:[],results:[],summary:{totalMatching:0,numRanks:0,currStart:1},facets:[]};return[f(v).then((function(e){return e||N})),g]}(S.collection,S.fixedFacets,S.fixedParameters,S.query,S.sortType,S.startRank,S.numRanks,S.facets,S.parameters,y,b),r=Yt(a,2),l=r[0],m=r[1];D({cancel:function(){return m.cancel()}}),l.then((function(e){T(e),P(!1)})).then((function(){S.interacted&&s.current&&s.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})})).catch((function(){T(d),P(!1)}))}}),[F,S]),{query:S,funnelbackResponse:k,updating:A,updater:{query:function(e){return w(e)},results:function(e){return L(e)},updateState:F},clear:function(t){var a=Jt(Jt({},S),{},{sortType:t?e.sort[0].type:S.sortType,facets:{},parameters:{},startRank:1,misspelling:null,interacted:!0});R.cancel(),w(a),L(!F)},hasMounted:c,matrixState:!(c||!a),summaryHeadingRef:s}};function Qt(e){var t,a=q(),n=Object.freeze({bestBets:[],extraSearches:{},facets:[],results:[],spell:null,summary:{currEnd:0,currStart:0,numRanks:0,totalMatching:0}}),l=zt(e.config,null!==(t=e.initialResults)&&void 0!==t?t:n,e.initialQuery||{},e.element),s=l.query,i=l.funnelbackResponse,c=l.updating,o=l.updater,u=l.clear,d=l.matrixState,m=l.summaryHeadingRef,f=r.createElement(r.Fragment,null,e.config.facetLabels&&e.config.facetLabels.length>0&&r.createElement(Re,{config:e.config,query:s,response:i,update:o,updating:c,summariseAs:e.config.summariseAs,clear:u,mobile:!0,hasMounted:a,matrixState:d}),r.createElement(Ut,{clear:u,config:e.config,query:s,response:i,summariseAs:e.config.summariseAs,type:e.config.resultCard,update:o,updating:c,summaryHeadingRef:m})),p=r.createElement(L,{config:e.config,query:s,update:o,updating:c}),y=e.config.queryInputConfig&&e.config.queryInputConfig.showQueryInTopSection?r.createElement("div",{className:"finder__top"},r.createElement("div",{className:"container"},p)):null;return r.createElement("form",{className:"finder",method:"GET",onSubmit:function(e){e.preventDefault()}},e.config.site&&"bayes"===e.config.site?r.createElement(r.Fragment,null,y,r.createElement("div",{className:"finder__main"},r.createElement("div",{className:"container"},r.createElement("div",{className:"grid"},f)))):r.createElement(r.Fragment,null,p,f))}Qt.propTypes={config:s().object.isRequired,element:s().object,initialQuery:s().object,initialResults:s().object};const Wt=Qt;document.addEventListener("DOMContentLoaded",(function(){if(!/(Trident|MSIE)/.test(navigator.userAgent)){var e=document.querySelectorAll(".wrapper--finder");e&&Array.from(e).forEach((function(e){var t;e.dataset.config&&(t=e.dataset.config,f({timeout:j,url:t})).then((function(t){(0,n.createRoot)(e).render(r.createElement(Wt,{config:t,element:e}))}))}))}}))},2634:()=>{},6833:()=>{},9169:()=>{}},a={};function r(e){var n=a[e];if(void 0!==n)return n.exports;var l=a[e]={id:e,loaded:!1,exports:{}};return t[e].call(l.exports,l,l.exports,r),l.loaded=!0,l.exports}r.m=t,e=[],r.O=(t,a,n,l)=>{if(!a){var s=1/0;for(u=0;u<e.length;u++){for(var[a,n,l]=e[u],i=!0,c=0;c<a.length;c++)(!1&l||s>=l)&&Object.keys(r.O).every((e=>r.O[e](a[c])))?a.splice(c--,1):(i=!1,l<s&&(s=l));if(i){e.splice(u--,1);var o=n();void 0!==o&&(t=o)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[a,n,l]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={951:0};r.O.j=t=>0===e[t];var t=(t,a)=>{var n,l,[s,i,c]=a,o=0;if(s.some((t=>0!==e[t]))){for(n in i)r.o(i,n)&&(r.m[n]=i[n]);if(c)var u=c(r)}for(t&&t(a);o<s.length;o++)l=s[o],r.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return r.O(u)},a=self.webpackChunkreact_matrix_rendering=self.webpackChunkreact_matrix_rendering||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var n=r.O(void 0,[111,366,72,85,154],(()=>r(1911)));n=r.O(n)})();